<!DOCTYPE HTML>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= @item[:title] %></title>
    <link rel="icon" href="/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheet.css">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="Nanoc <%= Nanoc::VERSION %>">

    <style>
      body {
        overflow-x: hidden;
      }

      .site-header {
        position: relative;
        font-family: "Open Sans", sans-serif;
        border-bottom: 1px solid #F0F1F4;
      }

      .site-header .search {
        width: 150px;
        max-width: 100%;
      }

      body.close .site-header .search {
        width: auto;
      }

      @media(min-width: 768px) {
        .site-header .search {
          width: 250px;
        }
      }
      
      @media(min-width: 1024px) {
        .site-header .search {
          width: 300px;
        }
      }

      .site-header nav ul li {
        font-size: 1rem;
        font-weight: 600;
        line-height: 2rem;
      }

      .site-header nav ul li a {
        text-decoration: none;
      }

      .sidebar {
        display: flex;
        flex-direction: column;
        border-right: 1px solid rgba(0,0,0,.07);
        background-color: #fff;
        overflow-y: auto;
        padding: 0px 15px 0 15px;
        position: fixed;
        top: 0;
        bottom: 0;
        left: auto;
        height: 100%;
        opacity: 1;
        visibility: visible;
        transition: visibility 0s linear 0.35s, opacity 0.35s, width 0.35s ease;
        width: 250px;
        z-index: 20;
      }

      @media(min-width: 1024px) {
        .sidebar {
          width: 300px;
        }
      } 

      .sidebar-body {
        flex: 1;
        overflow-y: auto;
        opacity: 1;
        visibility: visible;
        transition: visibility 0s linear 0.3s, opacity 0.3s;
      }

      .sidebar-footer {
        border-top: 1px solid #F0F1F4;
      }

      #main {
        position: relative;
        top: 0;
        right: 0;
        bottom: 0;
        left: 250px;
        width: calc(100% - 250px);
        transition: left .25s ease;
      }

      @media(min-width: 1024px) {
        #main {
          left: 300px;
          width: calc(100% - 300px);
        }
      }

      .content>:first-child {
        margin-top: 0;
      }

      h2 {
        margin-top: 4rem;
        margin-bottom: 0.5rem;
        color: #0F2C5E;
        font-weight: 700;
      }

      h3 {
        margin-top: 4rem;
        margin-bottom: 0.5rem;
        color: #0F2C5E;
        font-weight: 600;
      }

      h4 {
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: #061738;
        font-weight: 400;
      }

      h5 {
        color: #102968;
        font-weight: 700;
      }

      h2 + h4 {
        margin-top: 0;
        font-weight: 600;
      }
      
      blockquote>:first-child {
        margin-top: 0;
      }

      blockquote>:last-child {
        margin-bottom: 0;
      }

      .content ul.task-list li > ul {
        margin-top: 0;
      }

      h4 {
        margin-bottom: 0;
      }
      
      table {
        margin-top: 10px;
      }

      .video-player {
        display: inline-block;
        width: 816px;
        max-width: 100%;
        margin: 1rem 0;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
        color: inherit !important;
        text-decoration: none !important;
      }

      .copy-link {
        margin-top: 5px;
      }

      .copy:hover .copy-link {
        display: flex;
      }

      .api-link {
        position: relative;
      }

      .api-link::after {
        content: "";
        width: 16px;
        height: 16px;
        margin-left: 0.5rem;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16' class='inline ml-2'%3E%3Cg transform='translate(16.215 -0.215) rotate(90)'%3E%3Cg transform='translate(0.35 0.35)'%3E%3Crect fill='none' width='16' height='16' transform='translate(-0.135 -0.135)'%3E%3C/rect%3E%3C/g%3E%3Cpath fill='%233e74ff' d='M4.85,13.5a.5.5,0,0,1-.056-.062L.2,9.1a.629.629,0,0,1,0-.927.72.72,0,0,1,.98,0l4.162,3.935L9.507,8.175a.72.72,0,0,1,.98,0,.629.629,0,0,1,0,.927L5.9,13.44a.522.522,0,0,1-.06.062.7.7,0,0,1-.492.189H5.331A.7.7,0,0,1,4.85,13.5ZM9.507,5.519,5.346,1.583,1.184,5.519a.72.72,0,0,1-.98,0,.63.63,0,0,1,0-.928L4.791.254A.409.409,0,0,1,4.85.191.716.716,0,0,1,5.342,0h0a.7.7,0,0,1,.5.191A.386.386,0,0,1,5.9.254l4.59,4.337a.63.63,0,0,1,0,.928A.713.713,0,0,1,10,5.711.7.7,0,0,1,9.507,5.519Z' transform='translate(2.869 1.493)'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
      }

      pre {
        position: relative;
        overflow: auto;
      }

      pre.json code {
        overflow: inherit;
        display: block;
      }

      pre.json::after {
        content: "json";
        color: #CFD4DF;
        font-size: 14px;
        font-family: "Roboto", sans-serif;
        padding: 0px 10px;
        position: absolute;
        right: 0;
        text-align: right;
        top: 0;
      }

      .sidebar-toggle {
        display: block;
        position: relative;
        cursor: pointer;
        float: right;
        width: 24px;
        height: 24px;
        margin: 1rem;
      }

      .sidebar-toggle::after {
        display: inline-block;
        content: "";
        width: inherit;
        height: inherit;
        background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg id='Group_6446' data-name='Group 6446' transform='translate(23.835 0.366) rotate(90)'%3E%3Cg id='Group_5984' data-name='Group 5984' transform='translate(4.391 7.422)'%3E%3Crect id='Rectangle_4426' data-name='Rectangle 4426' width='1.809' height='10.392' rx='0.905' transform='translate(0 1.279) rotate(-45)' fill='%233e74ff'/%3E%3Crect id='Rectangle_4427' data-name='Rectangle 4427' width='1.809' height='10.392' rx='0.905' transform='translate(7.338 8.628) rotate(-135)' fill='%233e74ff'/%3E%3C/g%3E%3Cg id='Group_5983' data-name='Group 5983' transform='translate(-0.165 -0.165)'%3E%3Crect id='Rectangle_4422' data-name='Rectangle 4422' width='24' height='24' transform='translate(-0.201)' fill='none'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A");
      }

      .hamburger {
        position: relative;
      }

      .hamburger span {
        background-color: rgb(62, 116, 255);
        display: block;
        width: 16px;
        height: 2px;
      }

      .hamburger span:not(:last-child) {
        margin-bottom: 4px;
      }

      .mobile-search {
        display: none;
        position: absolute;
        width: 100%;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background-color: #ffffff;
        z-index: 23;
      }

      .mobile-search.show {
        display: flex;
        align-items: stretch;
      }

      @media(min-width: 768px) {
        body.close #main {
          left: 80px;
          width: calc(100% - 80px);
        }

        body.close .sidebar {
          width: 80px;
        }

        body.close .sidebar-body {
          visibility: hidden;
          opacity: 0;
          transition: visibility 0s ease 100ms, opacity 100ms;
        }
      }

      body.close .sidebar-toggle::after {
        transform: rotate(180deg);
      }

      body.close .logo {
        display: none;
      }

      body.close .logo-alt {
        display: block;
      }

      @media screen and (max-width: 1024px) {
        .dropdown.about-us .dropdown-menu {
          right: 0;
          left: auto;
        }
      }

      @media screen and (max-width: 640px) {
        .sidebar {
          left: -300px;
          transition: left .25s ease-out;
        }

        body.close .sidebar {
          left: 0;
          visibility: visible;
          opacity: 1;
          padding-left: 15px;
          width: 100%;
        }

        #main {
          left: 0;
          width: 100%;
        }
      }
    </style>
  </head>
  <body class="font-roboto text-size-base text-base-color">
    <div class="md:container m-auto">
      <aside id="sidebar" class="sidebar">
        <%= render '/partials/sidebar.*' %>
      </aside>
      <div id="main">
        <%= render '/partials/header.*' %>
        <div class="content p-4 lg:p-8">
          <%= yield %>  
        </div>
        <div class="overlay lg:hidden"></div>
      </div>
    </div>

    <script src="/pixel.js"></script>

  <script>
    function reset(item) {
      // remove currentTab item from local storage
      window.localStorage.removeItem("currentTab");
        
      if(item.querySelector(".collapse-body")?.classList.contains("block")) {
        item.querySelector(".collapse-body")?.classList.remove("hidden");
      }
    }

    document.querySelector(".logo").addEventListener("click", () => {
      document.querySelectorAll("aside nav > ul > li").forEach((item, key)=> {
        reset(item);
      });
    });

    document.querySelectorAll(".site-header > nav > ul > li").forEach((item, key) => {
      item.addEventListener("click", (event) => {
         reset(item);
      });
    });

    document.querySelectorAll("aside nav > ul > li").forEach((item, key)=> {
      item.addEventListener("click", (event) => {
        if(!item.querySelector(".collapse-body")) {
          reset(item);
        }
      });

      // item.querySelector(".collapse-title")?.addEventListener("click", (event) => {
      //   window.localStorage.setItem("currentTab", key);
      // });

      item.querySelectorAll(".collapse-body").forEach(ele => {
        ele.querySelectorAll("ul > li > a").forEach(link => {
          link.addEventListener("click", event => {
            // event.preventDefault();
            window.localStorage.setItem("currentTab", key);
            // console.log(event.currentTarget);
          });
        });
      });

      if(window.localStorage.getItem("currentTab") == key) {
        if(item.querySelector(".collapse-body")?.classList.contains("hidden")) {
          item.querySelector(".collapse-title")?.classList.add("collapsed");
          item.querySelector(".collapse-body")?.classList.remove("hidden");
          item.querySelector(".collapse-body")?.classList.add("block");
        }
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll@15.0.0/dist/smooth-scroll.polyfills.min.js"></script>
  <script>
    var scroll = new SmoothScroll('.content a[href*="#"]', {
      speed: 300,
      speedAsDuration: true,
    });

    document.querySelectorAll(".copy-link").forEach((item, index) => {
      let url = '';
      let href = '';
      let uri = '';

      item.querySelector("span.copy-icon").innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>
        <g id='Group_6421' data-name='Group 6421' transform='translate(-815 -366)'>
          <circle id='Ellipse_665' data-name='Ellipse 665' cx='12' cy='12' r='12' transform='translate(815 366)' fill='#f0f7ff'/>
          <g id='link' transform='translate(819.273 370.276)'>
            <rect id='Rectangle_4846' data-name='Rectangle 4846' width='16' height='16' transform='translate(-0.273 -0.276)' fill='none'/>
            <path id='Path_20020' data-name='Path 20020' d='M114.873,40.242l.711-.711a2.684,2.684,0,1,1,3.8,3.8l-1.726,1.726a2.684,2.684,0,0,1-3.8,0' transform='translate(-106.911 -36.549)' fill='none' stroke='#3e74ff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5'/>
            <path id='Path_20021' data-name='Path 20021' d='M44.038,106.568l-.711.711a2.684,2.684,0,0,1-3.8-3.8l1.726-1.726a2.684,2.684,0,0,1,3.8,0' transform='translate(-36.381 -94.978)' fill='none' stroke='#3e74ff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5'/>
          </g>
        </g>
        </svg>`;

      item.addEventListener("click", (e) => {
        e.preventDefault();

        const parentElement = item.parentElement;
        
        href = parentElement.querySelector("a.anchor").getAttribute("href");
        url = window.location.href.split('#')[0];
        uri = url += href;

        navigator.clipboard.writeText(uri).then(function() {
          item.querySelector("span.copy-icon").innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><g transform='translate(-718.711 -135.711)'><rect fill='#f0f7ff' width='24' height='24' rx='12' transform='translate(718.711 135.711)'/><g transform='translate(722.018 139.018)'><path fill='#3e74ff' d='M4.154,9.45a1,1,0,0,1-.742-.32L.3,5.822a1.143,1.143,0,0,1,0-1.546.986.986,0,0,1,1.454,0l2.4,2.551L10.273.32a.986.986,0,0,1,1.454,0,1.143,1.143,0,0,1,0,1.546L4.9,9.13a1,1,0,0,1-.727.32Z' transform='translate(2.679 3.969)'/><rect fill='none' width='16' height='16' transform='translate(0.693 0.693)'/></g></g></svg>`;
        }, function(error) {
          console.log(error);
        });
      });

      item.addEventListener("mouseout", () => {
        item.querySelector("span.copy-icon").innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>
        <g id='Group_6421' data-name='Group 6421' transform='translate(-815 -366)'>
          <circle id='Ellipse_665' data-name='Ellipse 665' cx='12' cy='12' r='12' transform='translate(815 366)' fill='#f0f7ff'/>
          <g id='link' transform='translate(819.273 370.276)'>
            <rect id='Rectangle_4846' data-name='Rectangle 4846' width='16' height='16' transform='translate(-0.273 -0.276)' fill='none'/>
            <path id='Path_20020' data-name='Path 20020' d='M114.873,40.242l.711-.711a2.684,2.684,0,1,1,3.8,3.8l-1.726,1.726a2.684,2.684,0,0,1-3.8,0' transform='translate(-106.911 -36.549)' fill='none' stroke='#3e74ff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5'/>
            <path id='Path_20021' data-name='Path 20021' d='M44.038,106.568l-.711.711a2.684,2.684,0,0,1-3.8-3.8l1.726-1.726a2.684,2.684,0,0,1,3.8,0' transform='translate(-36.381 -94.978)' fill='none' stroke='#3e74ff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5'/>
          </g>
        </g>
        </svg>`;
      });
    });
  </script>

  <script>
    document.querySelector(".sidebar-toggle").addEventListener("click", (event) => {
      event.preventDefault();

      document.querySelector("body").classList.toggle("close");
    });

    document.querySelector(".overlay").addEventListener("click", event => {
      event.preventDefault();
      document.querySelector("body").classList.toggle("close");
    });

    // hamburger click
    document.querySelector(".hamburger").addEventListener("click", (event) => {
      event.preventDefault();
      document.querySelector("body").classList.toggle("close");
      document.querySelector("body").classList.toggle("overflow-hidden");
    });

    document.querySelector(".hamburger-close").addEventListener("click", (event) => {
      event.preventDefault();
      document.querySelector("body").classList.toggle("close");
      document.querySelector("body").classList.toggle("overflow-hidden");
    });

    document.querySelector(".toggle-search").addEventListener("click", event => {
      event.preventDefault();

      document.querySelector(".mobile-search").classList.add("show");
    });

    function closeSearch() {
      document.querySelector(".mobile-search").classList.remove("show");
    }
  </script>
  </body>
</html>
